var checkDatabase=function(a){return localStorage[a]?!0:!1},save=function(a,o){localStorage[a]=10*o;var t=new Date;localStorage["gd-retrieval-date"]=t.toDateString()},load=function(a){return localStorage[a]},genIP=function(){return randomInt()+"."+randomInt()+"."+randomInt()+"."+randomInt()},randomInt=function(){return Math.floor(220*Math.random()+15)},gdinfo=function(a,o){var t=new Date,e=load(o),n=new Date(localStorage["gd-retrieval-date"]),r=864e5;if(checkDatabase(o)&&Math.round(Math.abs((t.getTime()-n.getTime())/r))<7){var i=e/10;a.find(".glassdoor-rating").html(i)}else{var s=new XMLHttpRequest,l="https://api.glassdoor.com/api/api.htm?v=1&format=json&t.p="+partnerid+"&t.k="+apikey+"&action=employers&userip="+genIP()+"&useragent="+navigator.userAgent+"&q="+o;s.open("GET",l,!0),s.onreadystatechange=function(){if(200==s.status){var t=JSON.parse(s.responseText||"null");if(null!=t){if(1==t.success){var e=t.response.employers[0].overallRating;save(o,e),a.find(".glassdoor-rating").html(e)}if(0==t.success){var n="Requests throttled by Glassdoor. Try again in a few minutes";a.find(".glassdoor-rating").html(n)}}}else{var n="Could not contact Glassdoor servers";a.find("glassdoor-rating").html(n)}},s.send()}};$(".description bdi").each(function(){$(this).append("<div class='glassdoor-label-wrapper'><div class='glassdoor-label'>Rating: <span class='glassdoor-rating'></span><div><a class='glassdoor-link' style='color:white' href='http://www.glassdoor.com/index.htm'>Powered by  <img style='margin-left:6px' src='http://www.glassdoor.com/static/img/api/glassdoor_logo_80.png' title='Job Search' /></a></div></div></div>")}),$(".description .glassdoor-label").each(function(){$(this).hide()}),$(".description bdi").hover(function(){var a=$(this).find("a"),o=a.html(),t=$(this);if("undefined"!=typeof o){$(this).find(".glassdoor-label").toggle();{var e=o.replace("<b>","").replace("</b>","");gdinfo(t,e)}}}),$(".pagination a").click(function(){window.location.reload()}),$(".submit-advs").click(function(){window.location.reload()}),$(".label-container").click(function(){window.location.reload()});